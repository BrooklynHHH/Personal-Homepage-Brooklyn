# å®Œæ•´éƒ¨ç½²æµç¨‹ç¸½çµï¼ˆåŒ…å«é€£æŽ¥æ–¹æ³•ï¼‰

## ðŸ–¥ï¸ ä¸€ã€é€£æŽ¥æœå‹™å™¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨é˜¿é‡Œé›²Workbenchï¼ˆæŽ¨è–¦ï¼‰

#### æ­¥é©Ÿ1ï¼šç™»éŒ„é˜¿é‡Œé›²æŽ§åˆ¶å°
1. **æ‰“é–‹ç€è¦½å™¨**ï¼Œè¨ªå• [é˜¿é‡Œé›²æŽ§åˆ¶å°](https://console.aliyun.com/)
2. **ç™»éŒ„æ‚¨çš„é˜¿é‡Œé›²è³¬è™Ÿ**
3. **é€²å…¥ECSå¯¦ä¾‹ç®¡ç†**

#### æ­¥é©Ÿ2ï¼šæ‰¾åˆ°æ‚¨çš„æœå‹™å™¨
1. **åœ¨ECSå¯¦ä¾‹åˆ—è¡¨ä¸­**ï¼Œæ‰¾åˆ°åç‚º "Ubuntu-pyhd" çš„å¯¦ä¾‹
2. **ç¢ºèªæœå‹™å™¨ç‹€æ…‹**ç‚º"é‹è¡Œä¸­"
3. **è¨˜éŒ„æœå‹™å™¨ä¿¡æ¯**ï¼š
   - å…¬ç¶²IPï¼š`101.132.99.23`
   - ç§æœ‰IPï¼š`172.24.28.62`
   - æ“ä½œç³»çµ±ï¼šUbuntu 24.04

#### æ­¥é©Ÿ3ï¼šä½¿ç”¨Workbenché€£æŽ¥
1. **é»žæ“Š"é ç¨‹é€£æŽ¥"æŒ‰éˆ•**
2. **é¸æ“‡"Workbench ä¸€éµé€£æŽ¥"**
3. **é»žæ“Š"ç«‹å³ç™»éŒ„"**
4. **ç­‰å¾…é€£æŽ¥å»ºç«‹**

### æ–¹æ³•äºŒï¼šä½¿ç”¨SSHå‘½ä»¤è¡Œé€£æŽ¥

#### æ­¥é©Ÿ1ï¼šæ‰“é–‹çµ‚ç«¯
- **Windows**ï¼šä½¿ç”¨PowerShellæˆ–CMD
- **macOS**ï¼šä½¿ç”¨Terminal
- **Linux**ï¼šä½¿ç”¨Terminal

#### æ­¥é©Ÿ2ï¼šåŸ·è¡ŒSSHé€£æŽ¥
```bash
ssh root@101.132.99.23
```

#### æ­¥é©Ÿ3ï¼šè¼¸å…¥å¯†ç¢¼
```
Hyr13870287190
```

#### æ­¥é©Ÿ4ï¼šç¢ºèªé€£æŽ¥æˆåŠŸ
é€£æŽ¥æˆåŠŸå¾Œæœƒçœ‹åˆ°ï¼š
```bash
root@iZuf61cy8gt93fo68bk71vZ:~#
```

## ðŸ“‹ äºŒã€åˆå§‹éƒ¨ç½²æµç¨‹

### 1. é€£æŽ¥æœå‹™å™¨ï¼ˆé¸æ“‡ä¸Šè¿°ä»»ä¸€æ–¹æ³•ï¼‰

### 2. åœ¨æœå‹™å™¨ä¸ŠåŸ·è¡Œå®Œæ•´éƒ¨ç½²å‘½ä»¤

```bash
# æ›´æ–°ç³»çµ±
sudo apt update -y

# å®‰è£Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo bash -
sudo apt-get install -y nodejs

# å®‰è£pnpm
sudo npm install -g pnpm

# å®‰è£nginx
sudo apt install -y nginx

# å‰µå»ºé …ç›®ç›®éŒ„
mkdir -p /var/www/designer-portfolio
cd /var/www/designer-portfolio

# å…‹éš†GitHubé …ç›®
git clone https://github.com/BrooklynHHH/Personal-Homepage-Brooklyn.git .

# ä¿®å¾©Viteé…ç½®ï¼ˆé‡è¦ï¼ï¼‰
cat > vite.config.js << 'EOF'
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite'
import path from 'path'

export default defineConfig({
  base: '/',
  plugins: [react(),tailwindcss()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
  build: {
    assetsDir: 'assets',
    rollupOptions: {
      output: {
        assetFileNames: 'assets/[name].[hash].[ext]'
      }
    }
  }
})
EOF

# å®‰è£ä¾è³´
pnpm install

# æ§‹å»ºé …ç›®
pnpm build

# ä¿®å¾©æ–‡ä»¶æ¬Šé™
sudo chown -R www-data:www-data /var/www/designer-portfolio/
sudo chmod -R 755 /var/www/designer-portfolio/

# é…ç½®nginx
sudo cat > /etc/nginx/sites-available/designer-portfolio << 'EOF'
server {
    listen 80;
    server_name 101.132.99.23;
    root /var/www/designer-portfolio/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # éœæ…‹è³‡æºç·©å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # å®‰å…¨é ­
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Referrer-Policy "no-referrer-when-downgrade" always;
    add_header Content-Security-Policy "default-src 'self' http: https: data: blob: 'unsafe-inline'" always;
}
EOF

# å•Ÿç”¨ç¶²ç«™é…ç½®
sudo ln -sf /etc/nginx/sites-available/designer-portfolio /etc/nginx/sites-enabled/
sudo rm -f /etc/nginx/sites-enabled/default

# æ¸¬è©¦nginxé…ç½®
sudo nginx -t

# é‡å•Ÿnginx
sudo systemctl restart nginx
sudo systemctl enable nginx

# é…ç½®é˜²ç«ç‰†
sudo ufw allow 80
sudo ufw allow 443
sudo ufw allow 22
```

### 3. é©—è­‰éƒ¨ç½²
```bash
# æ¸¬è©¦æœ¬åœ°è¨ªå•
curl -I http://localhost
curl http://localhost

# æª¢æŸ¥nginxç‹€æ…‹
sudo systemctl status nginx
```

### 4. æª¢æŸ¥é˜¿é‡Œé›²å®‰å…¨çµ„
1. **åœ¨é˜¿é‡Œé›²æŽ§åˆ¶å°**ï¼Œé€²å…¥ECSå¯¦ä¾‹
2. **é»žæ“Š"å®‰å…¨çµ„"**
3. **ç¢ºä¿80ç«¯å£å·²é–‹æ”¾**ï¼š
   - å”è­°é¡žåž‹ï¼šTCP
   - ç«¯å£ç¯„åœï¼š80/80
   - æŽˆæ¬Šå°è±¡ï¼š0.0.0.0/0

## ðŸ”„ ä¸‰ã€å¾ŒçºŒæ›´æ–°æµç¨‹

### æ–¹æ³•ä¸€ï¼šé€šéŽGitHubæ›´æ–°ï¼ˆæŽ¨è–¦ï¼‰

#### æ­¥é©Ÿ1ï¼šæœ¬åœ°é–‹ç™¼
1. **åœ¨æœ¬åœ°ä¿®æ”¹ä»£ç¢¼**
2. **æ¸¬è©¦æœ¬åœ°é‹è¡Œ**ï¼š`pnpm dev`
3. **æäº¤åˆ°GitHub**ï¼š
   ```bash
   git add .
   git commit -m "æ›´æ–°æè¿°"
   git push origin main
   ```

#### æ­¥é©Ÿ2ï¼šé€£æŽ¥æœå‹™å™¨ä¸¦æ›´æ–°
1. **é€£æŽ¥Workbench**ï¼ˆæ–¹æ³•åŒä¸Šï¼‰
2. **åŸ·è¡Œæ›´æ–°å‘½ä»¤**ï¼š
   ```bash
   cd /var/www/designer-portfolio
   
   # æ‹‰å–æœ€æ–°ä»£ç¢¼
   git pull origin main
   
   # é‡æ–°å®‰è£ä¾è³´ï¼ˆå¦‚æžœæœ‰æ–°ä¾è³´ï¼‰
   pnpm install
   
   # é‡æ–°æ§‹å»º
   pnpm build
   
   # é‡å•Ÿnginx
   sudo systemctl restart nginx
   
   # é©—è­‰æ›´æ–°
   curl -I http://localhost
   ```

### æ–¹æ³•äºŒï¼šç›´æŽ¥ä¸Šå‚³æ–‡ä»¶

#### æ­¥é©Ÿ1ï¼šæœ¬åœ°æ§‹å»º
```bash
# åœ¨æœ¬åœ°é …ç›®ç›®éŒ„åŸ·è¡Œ
pnpm build
```

#### æ­¥é©Ÿ2ï¼šä¸Šå‚³åˆ°æœå‹™å™¨
```bash
# ä½¿ç”¨scpä¸Šå‚³ï¼ˆåœ¨æœ¬åœ°åŸ·è¡Œï¼‰
scp -r dist/* root@101.132.99.23:/var/www/designer-portfolio/dist/

# æˆ–è€…ä½¿ç”¨rsync
rsync -avz dist/ root@101.132.99.23:/var/www/designer-portfolio/dist/
```

#### æ­¥é©Ÿ3ï¼šé€£æŽ¥æœå‹™å™¨ä¸¦é‡å•Ÿ
```bash
# é€£æŽ¥æœå‹™å™¨ï¼ˆæ–¹æ³•åŒä¸Šï¼‰
ssh root@101.132.99.23

# é‡å•Ÿnginx
sudo systemctl restart nginx
```

## ðŸ“‹ å››ã€é€£æŽ¥æ–¹æ³•è©³ç´°èªªæ˜Ž

### Workbenché€£æŽ¥è©³ç´°æ­¥é©Ÿï¼š

#### 1. ç™»éŒ„é˜¿é‡Œé›²æŽ§åˆ¶å°
- ç¶²å€ï¼šhttps://console.aliyun.com/
- ä½¿ç”¨æ‚¨çš„é˜¿é‡Œé›²è³¬è™Ÿç™»éŒ„

#### 2. é€²å…¥ECSç®¡ç†
- é»žæ“Šå·¦å´èœå–®çš„"é›²æœå‹™å™¨ECS"
- é»žæ“Š"å¯¦ä¾‹"
- æ‰¾åˆ°æ‚¨çš„å¯¦ä¾‹ "Ubuntu-pyhd"

#### 3. ä½¿ç”¨Workbenché€£æŽ¥
- é»žæ“Šå¯¦ä¾‹å³å´çš„"é ç¨‹é€£æŽ¥"
- é¸æ“‡"Workbench ä¸€éµé€£æŽ¥"
- é»žæ“Š"ç«‹å³ç™»éŒ„"
- ç­‰å¾…é€£æŽ¥å»ºç«‹ï¼ˆå¯èƒ½éœ€è¦å¹¾ç§’é˜ï¼‰

#### 4. é€£æŽ¥æˆåŠŸå¾Œ
- æœƒçœ‹åˆ°Linuxå‘½ä»¤è¡Œç•Œé¢
- æç¤ºç¬¦é¡¯ç¤ºï¼š`root@iZuf61cy8gt93fo68bk71vZ:~#`
- ç¾åœ¨å¯ä»¥åŸ·è¡Œéƒ¨ç½²å‘½ä»¤

### SSHå‘½ä»¤è¡Œé€£æŽ¥è©³ç´°æ­¥é©Ÿï¼š

#### 1. æ‰“é–‹çµ‚ç«¯
- **Windows**ï¼šæŒ‰ `Win + R`ï¼Œè¼¸å…¥ `cmd` æˆ– `powershell`
- **macOS**ï¼šæŒ‰ `Cmd + ç©ºæ ¼`ï¼Œæœç´¢ "Terminal"
- **Linux**ï¼šæŒ‰ `Ctrl + Alt + T`

#### 2. åŸ·è¡Œé€£æŽ¥å‘½ä»¤
```bash
ssh root@101.132.99.23
```

#### 3. è¼¸å…¥å¯†ç¢¼
```
Hyr13870287190
```
æ³¨æ„ï¼šè¼¸å…¥å¯†ç¢¼æ™‚ä¸æœƒé¡¯ç¤ºå­—ç¬¦ï¼Œé€™æ˜¯æ­£å¸¸çš„

#### 4. ç¢ºèªé€£æŽ¥
é€£æŽ¥æˆåŠŸå¾Œæœƒçœ‹åˆ°ï¼š
```bash
Welcome to Ubuntu 24.04.1 LTS (GNU/Linux 6.8.0-31-generic x86_64)
root@iZuf61cy8gt93fo68bk71vZ:~#
```

## ðŸ“ äº”ã€é‡è¦é…ç½®æ–‡ä»¶ä½ç½®

### æœå‹™å™¨ä¸Šçš„é—œéµæ–‡ä»¶ï¼š
- **é …ç›®ç›®éŒ„**ï¼š`/var/www/designer-portfolio/`
- **æ§‹å»ºè¼¸å‡º**ï¼š`/var/www/designer-portfolio/dist/`
- **nginxé…ç½®**ï¼š`/etc/nginx/sites-available/designer-portfolio`
- **nginxæ—¥èªŒ**ï¼š`/var/log/nginx/error.log` å’Œ `/var/log/nginx/access.log`

### æœ¬åœ°é …ç›®é—œéµæ–‡ä»¶ï¼š
- **Viteé…ç½®**ï¼š`vite.config.js`ï¼ˆå¿…é ˆä¿®æ”¹baseè·¯å¾‘ï¼‰
- **package.json**ï¼šé …ç›®ä¾è³´å’Œè…³æœ¬
- **src/App.jsx**ï¼šä¸»è¦çµ„ä»¶æ–‡ä»¶

## âš ï¸ å…­ã€é‡è¦æ³¨æ„äº‹é …

### 1. Viteé…ç½®å¿…é ˆä¿®æ”¹
```javascript
// éŒ¯èª¤é…ç½®ï¼ˆæœƒå°Žè‡´è·¯å¾‘å•é¡Œï¼‰
base: '/Personal-Homepage-Brooklyn/',

// æ­£ç¢ºé…ç½®
base: '/',
```

### 2. æ–‡ä»¶æ¬Šé™å•é¡Œ
```bash
# å¿…é ˆè¨­ç½®æ­£ç¢ºçš„æ¬Šé™
sudo chown -R www-data:www-data /var/www/designer-portfolio/
sudo chmod -R 755 /var/www/designer-portfolio/
```

### 3. é˜¿é‡Œé›²å®‰å…¨çµ„
- ç¢ºä¿80ç«¯å£å·²é–‹æ”¾
- åœ¨é˜¿é‡Œé›²æŽ§åˆ¶å° â†’ ECS â†’ å®‰å…¨çµ„ â†’ å…¥æ–¹å‘è¦å‰‡

### 4. æœå‹™è‡ªå•Ÿè¨­ç½®
```bash
# ç¢ºä¿nginxé–‹æ©Ÿè‡ªå•Ÿ
sudo systemctl enable nginx
```

## ðŸ”§ ä¸ƒã€æ•…éšœæŽ’é™¤

### å¸¸è¦‹å•é¡ŒåŠè§£æ±ºæ–¹æ¡ˆï¼š

#### 1. ç„¡æ³•é€£æŽ¥æœå‹™å™¨
```bash
# æª¢æŸ¥æœå‹™å™¨ç‹€æ…‹
# åœ¨é˜¿é‡Œé›²æŽ§åˆ¶å°ç¢ºèªå¯¦ä¾‹ç‹€æ…‹ç‚º"é‹è¡Œä¸­"

# æª¢æŸ¥ç¶²çµ¡é€£æŽ¥
ping 101.132.99.23
```

#### 2. é€£æŽ¥è¢«æ‹’çµ•
```bash
# æª¢æŸ¥SSHæœå‹™
sudo systemctl status ssh

# æª¢æŸ¥22ç«¯å£
sudo netstat -tlnp | grep :22
```

#### 3. ç¶²ç«™é¡¯ç¤ºç©ºç™½
```bash
# æª¢æŸ¥distç›®éŒ„
ls -la /var/www/designer-portfolio/dist/

# é‡æ–°æ§‹å»º
cd /var/www/designer-portfolio
pnpm build
sudo systemctl restart nginx
```

#### 4. åœ–ç‰‡ç„¡æ³•åŠ è¼‰
```bash
# æª¢æŸ¥Viteé…ç½®
cat /var/www/designer-portfolio/vite.config.js

# é‡æ–°æ§‹å»º
rm -rf dist/
pnpm build
```

#### 5. nginxéŒ¯èª¤
```bash
# æª¢æŸ¥nginxé…ç½®
sudo nginx -t

# æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ
sudo tail -f /var/log/nginx/error.log
```

#### 6. ç„¡æ³•è¨ªå•ç¶²ç«™
```bash
# æª¢æŸ¥nginxç‹€æ…‹
sudo systemctl status nginx

# æª¢æŸ¥80ç«¯å£
sudo netstat -tlnp | grep :80

# æª¢æŸ¥é˜²ç«ç‰†
sudo ufw status
```

## ðŸ“ å…«ã€å®Œæ•´æ›´æ–°è…³æœ¬

å‰µå»ºä¸€å€‹è‡ªå‹•åŒ–æ›´æ–°è…³æœ¬ï¼š

```bash
#!/bin/bash
# æ–‡ä»¶åï¼šupdate-website.sh

echo "ðŸ”„ é–‹å§‹æ›´æ–°ç¶²ç«™..."

cd /var/www/designer-portfolio

# å‚™ä»½ç•¶å‰ç‰ˆæœ¬
cp -r dist dist_backup_$(date +%Y%m%d_%H%M%S)

# æ‹‰å–æœ€æ–°ä»£ç¢¼
git pull origin main

# å®‰è£ä¾è³´
pnpm install

# é‡æ–°æ§‹å»º
pnpm build

# é‡å•Ÿnginx
sudo systemctl restart nginx

echo "âœ… æ›´æ–°å®Œæˆï¼"
echo "ðŸŒ ç¶²ç«™åœ°å€: http://101.132.99.23"
```

## ðŸŽ¯ ä¹ã€æœ€ä½³å¯¦è¸å»ºè­°

### 1. é–‹ç™¼æµç¨‹
- æœ¬åœ°é–‹ç™¼ â†’ æ¸¬è©¦ â†’ æäº¤GitHub â†’ æœå‹™å™¨æ›´æ–°
- æ¯æ¬¡æ›´æ–°å‰å…ˆåœ¨æœ¬åœ°æ¸¬è©¦
- ä½¿ç”¨æœ‰æ„ç¾©çš„commitä¿¡æ¯

### 2. å‚™ä»½ç­–ç•¥
- å®šæœŸå‚™ä»½distç›®éŒ„
- ä¿ç•™é‡è¦ç‰ˆæœ¬çš„å‚™ä»½

### 3. ç›£æŽ§
- å®šæœŸæª¢æŸ¥nginxæ—¥èªŒ
- ç›£æŽ§ç¶²ç«™è¨ªå•æƒ…æ³

### 4. å®‰å…¨
- å®šæœŸæ›´æ–°ç³»çµ±
- é…ç½®é˜²ç«ç‰†è¦å‰‡
- è€ƒæ…®æ·»åŠ SSLè­‰æ›¸

## ðŸ”— åã€å¿«é€Ÿé€£æŽ¥å‘½ä»¤

### ä¸€éµé€£æŽ¥è…³æœ¬ï¼š
```bash
#!/bin/bash
# æ–‡ä»¶åï¼šconnect-server.sh

echo "ðŸ”— é€£æŽ¥åˆ°é˜¿é‡Œé›²æœå‹™å™¨..."

# ä½¿ç”¨SSHé€£æŽ¥
ssh root@101.132.99.23

echo "âœ… é€£æŽ¥å®Œæˆï¼"
```

## ðŸ“Š åä¸€ã€æœå‹™å™¨ä¿¡æ¯ç¸½çµ

### æœå‹™å™¨åŸºæœ¬ä¿¡æ¯ï¼š
- **å¯¦ä¾‹åç¨±**ï¼šUbuntu-pyhd
- **å…¬ç¶²IP**ï¼š101.132.99.23
- **ç§æœ‰IP**ï¼š172.24.28.62
- **æ“ä½œç³»çµ±**ï¼šUbuntu 24.04
- **ç”¨æˆ¶å**ï¼šroot
- **å¯†ç¢¼**ï¼šHyr13870287190
- **SSHç«¯å£**ï¼š22
- **ç¶²ç«™ç«¯å£**ï¼š80

### ç¶²ç«™ä¿¡æ¯ï¼š
- **ç¶²ç«™åœ°å€**ï¼šhttp://101.132.99.23
- **é …ç›®ç›®éŒ„**ï¼š/var/www/designer-portfolio
- **GitHubå€‰åº«**ï¼šhttps://github.com/BrooklynHHH/Personal-Homepage-Brooklyn.git

### é‡è¦å‘½ä»¤ï¼š
```bash
# é€£æŽ¥æœå‹™å™¨
ssh root@101.132.99.23

# æª¢æŸ¥ç¶²ç«™ç‹€æ…‹
curl -I http://101.132.99.23

# æª¢æŸ¥nginxç‹€æ…‹
sudo systemctl status nginx

# æŸ¥çœ‹nginxæ—¥èªŒ
sudo tail -f /var/log/nginx/error.log
```

---

**æ³¨æ„**ï¼šæ­¤æ–‡æª”åŒ…å«äº†å®Œæ•´çš„éƒ¨ç½²å’Œé€£æŽ¥æµç¨‹ï¼Œè«‹å¦¥å–„ä¿ç®¡æœå‹™å™¨ä¿¡æ¯ï¼Œå®šæœŸæ›´æ–°å¯†ç¢¼ä»¥ç¢ºä¿å®‰å…¨ã€‚ 